<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>LLM for Kids</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/night.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/monokai.css">

    <style>
      :root {
        --r-heading-text-transform: none;
      }
      .reveal .slides section {
        line-break: strict;
        overflow-wrap: break-word;
      }
      .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
        text-transform: none;
      }
      .reveal h2 {
        margin-bottom: 40px;
      }
      .reveal .slides > section > section {
        display: flex !important;
        flex-direction: column;
        justify-content: flex-start !important;
        align-items: stretch !important;
        padding: 40px 60px;
        height: 100%;
        box-sizing: border-box;
        text-align: left;
      }
      .reveal .slides > section > section.center {
        display: grid !important;
        place-content: center !important;
        text-align: center;
      }
      .reveal .slides > section > section > p:has(> img) {
        flex: 1 1 0;
        min-height: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .reveal .slides > section > section > p > img {
        max-height: 100%;
        max-width: 100%;
        object-fit: contain;
      }
      .reveal blockquote {
        border-left: 6px solid #e7ad52;
        min-width: 90%;
        margin-left: 0;
        padding: 0.8em;
        background: rgba(255, 255, 255, 0.05);
        font-style: normal;
      }
      .reveal table {
        font-size: 0.6em;
        width: 100%;
      }
      .reveal table th {
        background: rgba(231, 173, 82, 0.2);
        color: #e7ad52;
      }
      .reveal table td,
      .reveal table th {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding: 0.4em 0.6em;
        vertical-align: middle;
        line-height: 1.5;
      }
      .reveal a {
        color: #e7ad52;
      }
      .reveal ul, .reveal ol {
        display: block;
      }
      .two-columns {
        flex-wrap: wrap !important;
        flex-direction: row !important;
        justify-content: flex-start !important;
        align-content: space-evenly !important;
        gap: 0;
      }
      .two-columns > li {
        width: 48%;
      }
      .reveal .slides section ul li,
      .reveal .slides section ol li {
        margin-bottom: 0.4em;
      }
      .reveal .slide-number {
        right: auto;
        left: 16px;
      }
      .reveal .searchbox {
        top: 16px !important;
        right: 88px !important;
      }
      .reveal .searchbox .searchinput {
        padding: 6px 16px !important;
        border-radius: 20px !important;
        font-size: 14px !important;
      }
      #lang-toggle {
        position: fixed;
        top: 16px;
        right: 16px;
        z-index: 100;
        min-width: 56px;
        padding: 6px 0;
        border-radius: 20px;
        background: rgba(231, 173, 82, 0.9);
        color: #1a1a2e;
        font-weight: bold;
        font-size: 14px;
        text-align: center;
        text-decoration: none;
        cursor: pointer;
        transition: background 0.2s;
      }
      #lang-toggle:hover {
        background: #e7ad52;
      }
    </style>
  </head>
  <body>
    <a id="lang-toggle" href="#">EN</a>

    <div class="reveal">
      <div class="slides">

        <!-- Cover -->
        <section data-markdown
                 data-src="cover.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Preface -->
        <section data-markdown
                 data-src="preface.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Outline -->
        <section data-markdown
                 data-src="outline.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 1: Transformer Foundations -->
        <section data-markdown
                 data-src="chapter-1.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 2: The GPT Lineage -->
        <section data-markdown
                 data-src="chapter-2.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 3: Scaling Laws & Training Theory -->
        <section data-markdown
                 data-src="chapter-3.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 4: Open-Source LLM Milestones -->
        <section data-markdown
                 data-src="chapter-4.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 5: Efficient Attention & Architecture -->
        <section data-markdown
                 data-src="chapter-5.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 6: Alignment & Safety -->
        <section data-markdown
                 data-src="chapter-6.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 7: Prompting & Reasoning -->
        <section data-markdown
                 data-src="chapter-7.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 8: Parameter-Efficient Fine-Tuning -->
        <section data-markdown
                 data-src="chapter-8.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 9: RAG -->
        <section data-markdown
                 data-src="chapter-9.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 10: Agents & Tool Use -->
        <section data-markdown
                 data-src="chapter-10.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 11: Code Generation -->
        <section data-markdown
                 data-src="chapter-11.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 12: Multimodal Models -->
        <section data-markdown
                 data-src="chapter-12.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 13: Long Context -->
        <section data-markdown
                 data-src="chapter-13.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 14: Reasoning Models -->
        <section data-markdown
                 data-src="chapter-14.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 15: Quantization & Inference -->
        <section data-markdown
                 data-src="chapter-15.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Chapter 16: Data Engineering & Evaluation -->
        <section data-markdown
                 data-src="chapter-16.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- Reading Order -->
        <section data-markdown
                 data-src="reading-order.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

        <!-- References -->
        <section data-markdown
                 data-src="references.md"
                 data-separator="^\n---\n$"
                 data-separator-vertical="^\n----\n$"
                 data-charset="utf-8">
        </section>

      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/markdown/markdown.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/notes/notes.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/search/search.js"></script>

    <script>
      // i18n: read language from query parameter, default to English
      var lang = new URLSearchParams(location.search).get('lang') || 'en';
      document.documentElement.lang = lang === 'zh' ? 'zh' : 'en';

      // Set markdown source paths based on language
      document.querySelectorAll('section[data-src]').forEach(function(s) {
        s.setAttribute('data-markdown', 'src/' + lang + '/' + s.getAttribute('data-src'));
        s.removeAttribute('data-src');
      });

      // Configure language toggle button
      var toggle = document.getElementById('lang-toggle');
      if (lang === 'zh') {
        toggle.textContent = 'EN';
        var targetLang = 'en';
      } else {
        toggle.textContent = '中文';
        var targetLang = 'zh';
      }
      toggle.addEventListener('click', function(e) {
        e.preventDefault();
        var params = new URLSearchParams(location.search);
        params.set('lang', targetLang);
        location.href = location.pathname + '?' + params.toString() + location.hash;
      });

      Reveal.initialize({
        width: 1920,
        height: 1080,
        center: false,
        margin: 0.05,
        hash: true,
        slideNumber: true,
        scrollActivationWidth: 0,
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealSearch ]
      });

      Reveal.on('ready', function() {
        document.querySelectorAll('.reveal .slides > section > section').forEach(function(slide) {
          if (slide.classList.contains('center')) return;
          var children = Array.prototype.slice.call(slide.children);
          var headings = children.filter(function(c) { return /^H[1-6]$/.test(c.tagName); });
          var blocks = children.filter(function(c) { return !(/^H[1-6]$/.test(c.tagName)); });

          // Heading + at most 1 line (no list/table/img) → center
          if (blocks.length <= 1 && !slide.querySelector('ul, ol, table, img')) {
            slide.classList.add('center');
            return;
          }

          // Heading + single list → stretch the list to fill space
          if (headings.length > 0 && blocks.length === 1 && /^(UL|OL)$/.test(blocks[0].tagName)) {
            headings.forEach(function(h) { h.style.flex = '0 0 auto'; });
            var b = blocks[0];
            b.style.flex = '1 1 auto';
            b.style.display = 'flex';
            b.style.flexDirection = 'column';
            b.style.justifyContent = 'space-evenly';
          } else if (blocks.length > 1) {
            // Multiple blocks: from the 2nd onward, add top margin; lists get looser line height
            for (var i = 1; i < blocks.length; i++) {
              blocks[i].style.marginTop = '1.5em';
              if (/^(UL|OL)$/.test(blocks[i].tagName)) {
                blocks[i].style.lineHeight = '1.5';
              }
            }
          }
        });
      });

      Reveal.on('slidechanged', function(event) {
        var title = 'LLM for Kids';
        var h = event.currentSlide.querySelector('h1, h2, h3');
        if (h) {
          title = h.textContent + ' - ' + title;
        }
        document.title = title;
      });
    </script>
  </body>
</html>
