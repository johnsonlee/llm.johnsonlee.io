<!-- .slide: class="center" -->

## 11. 代码生成

*AI 能写程序吗？*

----

## 代码有什么特别的？

写代码跟写文章不太一样：

- 必须 **分毫不差** ——少一个字符程序就跑不起来
- 必须有 **正确的逻辑** ——程序得真能干你想让它干的事
- 可以 **直接验证** ——跑一下就知道对不对

> 一个靠“猜下一个词”训练出来的模型，真能写出能跑的代码吗？

----

## StarCoder：开源的代码模型

第一步：收集一座代码大山——一个叫 **The Stack** 的数据集：

- 从 GitHub 上采集了 86 种以上编程语言的代码
- 经过去重和质量过滤
- 在此基础上训练了一个 150 亿参数的代码专用模型

> [StarCoder](https://arxiv.org/abs/2305.06161)（2023）— 人人可用的开源代码生成模型

----

## DeepSeek-Coder：看懂整个项目

大多数代码模型只能处理 **单个文件** ，但真正的项目往往有几十上百个文件！

- 在 **仓库级别** 的代码上训练，学会理解文件之间的依赖关系
- 不光能续写代码，还能 **补全中间的空缺**
- 就像能读懂一整本书，而不只是看懂一页

> [DeepSeek-Coder](https://arxiv.org/abs/2401.14196)（2024）— 仓库级代码理解能力

----

## AlphaCode：跟人类同台竞技

AI 能不能解 **编程比赛** 里那种超级难的题？连很多大人程序员都觉得棘手：

- 读懂复杂的题目描述
- 构思出合适的算法
- 在各种约束条件下写出正确代码

AlphaCode 的绝招：先生成 **几百万个** 候选解，再过滤筛选、聚类去重。

> [AlphaCode](https://arxiv.org/abs/2203.07814)（2022）— 达到竞赛水平的代码生成

----

## Flow Engineering：写完跑一下、不对就改

如果 AI 不是匆匆写完代码就交卷，而是像真正的程序员一样 **反复迭代** 呢？

1. 先读需求，生成初版代码
2. 跑一下 **测试** ——通过了吗？
3. 没通过就看报错信息，修改代码
4. 循环往复，直到所有测试通过

这种测试驱动的迭代方式，效果远超“一次性生成”。

> [Flow Engineering](https://arxiv.org/abs/2401.08500)（2024）— 测试驱动的迭代式代码生成

----

## 第 11 章总结

| 论文 | 核心思想 |
|------|----------|
| [StarCoder](https://arxiv.org/abs/2305.06161)（2023） | 基于 The Stack 数据集的开源代码模型 |
| [DeepSeek-Coder](https://arxiv.org/abs/2401.14196)（2024） | 仓库级代码理解 |
| [AlphaCode](https://arxiv.org/abs/2203.07814)（2022） | 海量生成 + 筛选，达到竞赛水平 |
| [Qwen2.5-Coder](https://arxiv.org/abs/2409.12186)（2024） | 多语言代码补全与修复 |
| [Flow Engineering](https://arxiv.org/abs/2401.08500)（2024） | 测试驱动的迭代生成 |
